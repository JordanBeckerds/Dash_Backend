<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Dashboard</title>
    <style>
        .container {
            margin-bottom: 20px;
        }
        .project-container, .ticket-container {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            width: 300px;
        }
        .details {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Welcome, <?php echo htmlspecialchars($client_user); ?>!</h1>

    <div class="container">
        <h2>Your Projects</h2>
        <?php if (!empty($resultProjects)): ?>
            <?php foreach ($resultProjects as $project): ?>
                <div class="project-container">
                    <strong>Project ID:</strong>
                    <a href="project_details.php?project_id=<?php echo $project['ProjectId']; ?>"><?php echo htmlspecialchars($project['ProjectId']); ?></a><br>
                    <strong>Project Name:</strong>
                    <a href="project_details.php?project_id=<?php echo $project['ProjectId']; ?>"><?php echo htmlspecialchars($project['ProjectName']); ?></a><br>
                    <button onclick="toggleDetails('project_<?php echo $project['ProjectId']; ?>')">Show Details</button>
                    <div class="details" id="project_<?php echo $project['ProjectId']; ?>">
                        <strong>Project Folder:</strong> <?php echo htmlspecialchars($project['ProjectFolder']); ?><br>
                        <strong>Project Description:</strong> <?php echo htmlspecialchars($project['ProjectDesc']); ?><br>
                        <!-- Add more details here as needed -->
                    </div>
                </div>
            <?php endforeach; ?>
        <?php else: ?>
            No projects found
        <?php endif; ?>
    </div>

    <div class="container">
        <h2>Your Tickets</h2>
        <?php if (!empty($resultTickets)): ?>
            <?php foreach ($resultTickets as $ticket): ?>
                <div class="ticket-container">
                    <strong>Ticket ID:</strong>
                    <a href="ticket_details.php?ticket_id=<?php echo $ticket['TicketId']; ?>"><?php echo htmlspecialchars($ticket['TicketId']); ?></a><br>
                    <strong>Ticket Name:</strong>
                    <a href="ticket_details.php?ticket_id=<?php echo $ticket['TicketId']; ?>"><?php echo htmlspecialchars($ticket['TicketName']); ?></a><br>
                    <button onclick="toggleDetails('ticket_<?php echo $ticket['TicketId']; ?>')">Show Details</button>
                    <div class="details" id="ticket_<?php echo $ticket['TicketId']; ?>">
                        <strong>Ticket Details:</strong> <?php echo htmlspecialchars($ticket['TicketDetails']); ?><br>
                        <!-- Add more details here as needed -->
                    </div>
                </div>
            <?php endforeach; ?>
        <?php else: ?>
            No tickets found
        <?php endif; ?>
    </div>

    <!-- Other sections (Create New Project, Create New Ticket, etc.) remain unchanged -->

    <script>
        function toggleDetails(elementId) {
            var details = document.getElementById(elementId);
            if (details.style.display === "none") {
                details.style.display = "block";
            } else {
                details.style.display = "none";
            }
        }
    </script>
</body>
</html>
